version: '2'

tasks:
  foo:
    preconditions:
      - test -f foo.txt

  impossible:
    preconditions:
      - sh: "[ 1 = 0 ]"
        msg: "1 != 0"

  depends_on_imposssible:
    deps:
      - impossible

  executes_failing_task_as_cmd:
    cmds:
      - task: impossible

  depends_on_failure_of_impossible:
    deps:
      - impossible_but_i_dont_care
